(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{63218:(e,n,t)=>{"use strict";t.d(n,{P:()=>d});var r=t(74848),s=t(91106),a=t.n(s),i=t(5532),o=t(41980),l=t(62014),c=t.n(l);function d(e){let{children:n}=e;return(0,r.jsx)("header",{children:(0,r.jsxs)("div",{className:c().toolbar,role:"banner",children:[(0,r.jsx)(a(),{href:"/",className:c().logo,children:(0,r.jsx)(o.v,{width:80,height:24})}),n,(0,r.jsx)("div",{className:c().spacer}),(0,r.jsx)("nav",{className:c().menu,children:(0,r.jsx)("a",{href:"https://docs.wokwi.com/?utm_source=wokwi",target:"_blank",children:"Docs"})}),(0,r.jsx)(i.B,{size:"small"})]})})}},42843:(e,n,t)=>{"use strict";t.d(n,{U:()=>m});var r=t(74848),s=t(36277),a=t(9897),i=t(77596),o=t(20419),l=t(37200),c=t(49672),d=t(55706),u=t(49549),h=t(96540),p=t(11961);const m=(0,s.PA)((e=>{let{project:n,isOpen:t,onClose:s}=e;const m=(0,h.useContext)(p.Rs),[x,g]=(0,h.useState)(n.name),j=()=>{s()},b=()=>{x&&(n.setName(x),(0,u.vr)(m,n)),s()};return(0,r.jsx)(o.A,{open:t,onClose:j,children:(0,r.jsxs)("form",{onSubmit:e=>{b(),e.preventDefault()},children:[(0,r.jsx)(d.A,{children:"Rename Project"}),(0,r.jsx)(c.A,{children:(0,r.jsx)(i.A,{autoFocus:!0,margin:"dense",id:"name",label:"Project Name",value:x,fullWidth:!0,variant:"outlined",onChange:e=>{g(e.target.value)}})}),(0,r.jsxs)(l.A,{children:[(0,r.jsx)(a.A,{color:"inherit",onClick:j,children:"Cancel"}),(0,r.jsx)(a.A,{variant:"contained",disabled:0===x.length,onClick:b,children:"Rename"})]})]})})}))},67586:(e,n,t)=>{"use strict";t.d(n,{z:()=>vt});var r=t(74848),s=t(9165),a=t(85996),i=t.n(a),o=t(49365),l=t(39677),c=t(29245),d=t(59614),u=t(90490),h=t(73708),p=t(76791),m=t(73680),x=t(76547),g=t(81474),j=t(9897),b=t(19151),f=t(86636),v=t(79369),A=t(36277),y=t(13368),k=t.n(y),w=t(91106),C=t.n(w),_=t(86715),P=t.n(_),S=t(96540),I=t(51683),E=t(15956),L=t(11961),F=t(32796),N=t(9055),R=t(49549),D=t(20718),B=t(98512),W=t(24652),z=t(51308);const T=(0,S.createContext)(null),U=(0,v.A)(j.A)({minWidth:"28px",padding:"4px 0"});function O(e){let{text:n,children:t,variant:s,...a}=e;const[i,o]=(0,S.useState)(!1),l=(0,S.useRef)(null),c=()=>o(!1);return(0,r.jsxs)(T.Provider,{value:{closeMenu:c},children:[(0,r.jsxs)(W.A,{variant:s,ref:l,children:[(0,r.jsx)(j.A,{variant:s,...a,children:n}),(0,r.jsx)(U,{size:"small",onClick:()=>o(!0),variant:s,children:(0,r.jsx)(B.A,{})})]}),(0,r.jsx)(z.A,{open:i,onClose:c,anchorEl:l.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t})]})}function M(e){let{children:n}=e;const t=(0,S.useContext)(T);return(0,r.jsx)("div",{onClick:()=>{null==t||t.closeMenu()},children:n})}var H=t(65280),G=t(63218),Y=t(47370);const K=e=>{let{children:n}=e;return(0,r.jsx)(Y.A,{direction:"column",minHeight:"100vh",children:n})};var V=t(42843),X=t(97595),J=t(20419),q=t(37200),Z=t(49672),$=t(55706),Q=t(77596),ee=t(89536),ne=t(71166),te=t(38588),re=t(3601),se=t(67691),ae=t(85243);const ie=(0,A.PA)((e=>{let{privacy:n,onPrivacyChange:t}=e;const s=(0,S.useContext)(L.Rs);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ee.A,{margin:"normal",children:[(0,r.jsx)(ne.A,{id:"privacy-radio-buttons-group",children:"Project privacy:"}),(0,r.jsxs)(te.A,{"aria-labelledby":"privacy-radio-buttons-group",name:"controlled-radio-buttons-group",value:n,onChange:e=>t(e.target.value),children:[(0,r.jsx)(x.A,{value:"public",control:(0,r.jsx)(re.A,{}),label:(0,r.jsxs)(Y.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,r.jsx)(p.A,{minWidth:60,children:"Public"}),(0,r.jsx)(se.A,{fontSize:"small"})]})}),(0,r.jsx)(x.A,{value:"unlisted",control:(0,r.jsx)(re.A,{}),label:(0,r.jsxs)(Y.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,r.jsx)(p.A,{minWidth:60,children:"Unlisted"}),(0,r.jsx)(ae.A,{fontSize:"small"})]})})]})]}),"unlisted"===n&&!s.club&&(0,r.jsxs)(X.A,{children:["In order to save unlisted projects, ",(0,r.jsx)("br",{}),"please join one of our paid plans.",(0,r.jsx)(j.A,{variant:"outlined",color:"secondary",href:"https://wokwi.com/pricing?ref=unlisted",target:"_blank",onClick:()=>(0,F.G)("club:learnMore:unlistedSave"),sx:{marginTop:1},children:"Learn more"})]})]})}));const oe=(0,A.PA)((e=>{let{project:n,isOpen:t,onClose:s,onSaveCopyClick:a}=e;const[i,o]=(0,S.useState)(""),l=(0,S.useContext)(L.Rs),[c,d]=(0,S.useState)("public");(0,S.useEffect)((()=>{t&&o(function(e){const n=e.match(/^(.*) \((\d+)\)$/);if(n){const e=n[1],t=parseInt(n[2],10);return"".concat(e," (").concat(t+1,")")}return e.endsWith(" Copy")?"".concat(e," (2)"):"".concat(e," Copy")}(n.name))}),[t,n.name]);const u=()=>{s()},h=()=>{i&&(n.setUnlisted("unlisted"===c),n.setLocked(!1),a(i),s())};var p;return(0,r.jsx)(J.A,{open:t,onClose:u,children:(0,r.jsxs)("form",{onSubmit:e=>{h(),e.preventDefault()},children:[(0,r.jsx)($.A,{children:"Save a Copy"}),(0,r.jsx)(Z.A,{children:(0,r.jsxs)(Y.A,{children:[n.owner&&n.owner!==l.id&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(X.A,{children:["This project is owned by ",null!==(p=n.ownerUsername)&&void 0!==p?p:"a different user","."]}),(0,r.jsx)(X.A,{gutterBottom:!0,children:"You can save a copy of this project in your account."})]}),(0,r.jsx)(Q.A,{autoFocus:!0,margin:"dense",id:"name",label:"Project Name",value:i,fullWidth:!0,variant:"outlined",onChange:e=>{o(e.target.value)}}),(0,r.jsx)(ie,{privacy:c,onPrivacyChange:d}),(0,r.jsx)(X.A,{variant:"caption",color:"text.secondary",children:"Don't share sensitive data (such as passwords) in public projects."})]})}),(0,r.jsxs)(q.A,{children:[(0,r.jsx)(j.A,{color:"inherit",onClick:u,children:"Cancel"}),(0,r.jsx)(j.A,{variant:"contained",disabled:0===i.length||"unlisted"===c&&!l.club,onClick:h,children:"Save Copy"})]})]})})})),le=(0,A.PA)((e=>{let{project:n,isOpen:t,onClose:s,onSaveClick:a}=e;const[i,o]=(0,S.useState)(n.name),[l,c]=(0,S.useState)("public"),d=()=>{s()},u=()=>{i&&(n.setUnlisted("unlisted"===l),a(i),s())},h=(0,S.useContext)(L.Rs);return(0,r.jsx)(J.A,{open:t,onClose:d,children:(0,r.jsxs)("form",{onSubmit:e=>{u(),e.preventDefault()},children:[(0,r.jsx)($.A,{children:"Save Your Project"}),(0,r.jsx)(Z.A,{children:(0,r.jsxs)(Y.A,{children:[(0,r.jsx)(Q.A,{autoFocus:!0,margin:"dense",id:"name",label:"Project Name",value:i,fullWidth:!0,variant:"outlined",onChange:e=>{o(e.target.value)}}),(0,r.jsx)(ie,{privacy:l,onPrivacyChange:c}),(0,r.jsx)(X.A,{variant:"caption",color:"text.secondary",children:"Don't share sensitive data (such as passwords) in public projects."})]})}),(0,r.jsxs)(q.A,{children:[(0,r.jsx)(j.A,{color:"inherit",onClick:d,children:"Cancel"}),(0,r.jsx)(j.A,{variant:"contained",disabled:0===i.length||"unlisted"===l&&!h.club,onClick:u,children:"Save"})]})]})})}));var ce=t(15625),de=t(94938),ue=t.n(de);function he(e){let{link:n}=e;const{translate:t}=(0,I.W)("project.shareDialog"),a=(0,S.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",value:n,ref:a,readOnly:!0,onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.select()}}),(0,r.jsx)(b.A,{title:t("copyToClipboard","Copy to clipboard"),children:(0,r.jsx)(f.A,{onClick:e=>{var n;null===(n=a.current)||void 0===n||n.select(),document.execCommand("copy"),e.target.focus()},children:(0,r.jsx)(i(),{path:s.ADG,size:1})})})]})}function pe(e){let{open:n,onClose:t,project:a,saving:o,onSaveProject:l}=e;const{translate:c}=(0,I.W)("project.shareDialog");var d;return(0,r.jsxs)(J.A,{open:n,onClose:t,classes:{paper:ue().modalContent},children:[(0,r.jsx)(ce.J,{onClose:t}),(0,r.jsx)($.A,{children:c("title","Share Project")}),(0,r.jsx)(Z.A,{children:(null==a?void 0:a.url)?(0,r.jsx)("div",{className:ue().shareLinkContainer,children:(0,r.jsx)(he,{link:null!==(d=a.url)&&void 0!==d?d:""})}):(0,r.jsxs)(X.A,{children:[c("pleaseSave","To share this project, please save it first:"),(0,r.jsx)(p.A,{mt:2,children:(0,r.jsx)(j.A,{variant:"contained",startIcon:o?(0,r.jsx)(i(),{path:s.PJB,size:1,spin:!0}):(0,r.jsx)(i(),{path:s.nhs,size:1}),onClick:l,children:c("saveProject","Save project")})})]})}),(0,r.jsx)(q.A,{children:(0,r.jsx)(j.A,{onClick:t,children:c("closeButton","Close")})})]})}var me=t(98235),xe=t(68900);var ge=t(70638),je=t(64204),be=t(91879),fe=t(74755),ve=t(35188),Ae=t(17845),ye=t(24746);const ke=(0,A.PA)((e=>{let{show:n,onHide:t,featureName:s}=e;const a=encodeURIComponent("".concat(s));return(0,r.jsxs)(J.A,{open:n,onClose:t,"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,r.jsx)($.A,{id:"form-dialog-title",children:"Hmm... Upgrade?"}),(0,r.jsx)(Z.A,{children:"File upload is only available for paying users."}),(0,r.jsxs)(q.A,{children:[(0,r.jsx)(j.A,{variant:"outlined",onClick:t,sx:{margin:1},children:"Close"}),(0,r.jsx)(j.A,{variant:"contained",href:"/pricing?ref=".concat(a),target:"_blank",children:"Learn more"})]})]})}));var we=t(55877),Ce=t(57530),_e=t(26087);function Pe(e){var n;return(0,r.jsxs)(p.A,{sx:{position:"relative",display:"inline-flex"},children:[(0,r.jsx)(_e.A,{variant:"determinate",...e}),(0,r.jsx)(p.A,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(X.A,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(Math.round(null!==(n=e.value)&&void 0!==n?n:100),"%")})})]})}const Se=(0,A.PA)((e=>{let{file:n,onRemove:t}=e;const s=n.name.substring(ve._j.length);return(0,r.jsxs)(fe.Ay,{secondaryAction:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.A,{onClick:()=>t(n),children:(0,r.jsx)(we.A,{})})}),children:[(0,r.jsx)(m.A,{primary:s,secondary:"".concat(n.size," bytes"),sx:{marginRight:1}}),n.transferring&&(0,r.jsx)(Pe,{value:Math.floor(100*n.progress)}),n.uploadFailed&&(0,r.jsx)(b.A,{title:"Upload failed",children:(0,r.jsx)(Ce.A,{color:"error"})})]})})),Ie=(0,A.PA)((()=>{const e=(0,me.A)(),n=(0,ye.B)(),{translate:t}=(0,I.W)("editor.sdCard"),[s,a]=(0,S.useState)(!1),i=async t=>{if(!e.club)return void a(!0);const{files:r}=await(0,Ae.Km)(t?{directory:!0}:{multiple:!0});for(const t of r)n.uploadFile(e,t,ve._j)},o=e=>n.removeServerFile(e),{sdCardFiles:l}=n;return(0,r.jsxs)(p.A,{display:"flex",flexDirection:"column",flex:1,height:0,children:[(0,r.jsx)(ke,{show:s,onHide:()=>a(!1),featureName:"sdcard"}),(0,r.jsxs)(p.A,{p:1,children:[(0,r.jsx)(O,{text:t("uploadFiles","Upload files"),variant:"contained",onClick:()=>i(!1),children:(0,r.jsx)(M,{children:(0,r.jsxs)(h.A,{onClick:()=>i(!0),children:[(0,r.jsx)(je.A,{children:(0,r.jsx)(ge.A,{fontSize:"small"})}),(0,r.jsx)(m.A,{children:t("uploadCompleteFolder","Upload complete folder")})]})})}),(0,r.jsx)(j.A,{variant:"outlined",sx:{marginLeft:1},onClick:()=>{for(const e of Array.from(n.serverFiles))n.removeServerFile(e)},children:t("uploadCompleteFolder","Delete all files")})]}),(0,r.jsxs)(be.A,{sx:{flex:1,bgcolor:"background.paper",overflow:"auto"},children:[!l.length&&(0,r.jsx)(fe.Ay,{children:(0,r.jsx)(m.A,{primary:t("noFilesYet","No files yet. Please upload some files.")})}),l.map((e=>(0,r.jsx)(Se,{file:e,onRemove:o},e.name)))]})]})}));var Ee=t(52212),Le=t(27813),Fe=t(4801),Ne=t(22938);function Re(e){switch(e){case Fe.i.Running:return"start";case Fe.i.Stopped:return"stop";case Fe.i.Paused:return"pause"}}var De=t(75327),Be=t(69530),We=t(4364),ze=t(58961),Te=t(24399),Ue=t(17548),Oe=t(97063),Me=t(31439),He=t(67979),Ge=t(75760),Ye=t(93595),Ke=t(80502),Ve=t(67319),Xe=t(22492),Je=t(78146),qe=t(37419),Ze=t(13569),$e=t(75226),Qe=t(88516),en=t(94704),nn=t(70602),tn=t(45589),rn=t(13292),sn=t(20053);const an=e=>fetch(e).then((e=>e.json())),on=(0,A.PA)((e=>{let{onAddLibrary:n,onUploadLibrary:t}=e;const{data:s,error:a}=(0,tn.Ay)("https://libraries.wokwi.workers.dev/list",an),[i,o]=(0,S.useState)(""),[l,c]=(0,S.useState)(-1),d=(0,S.useRef)(null),u=(0,S.useRef)(null),m=(0,S.useRef)(null);if(a)return(0,r.jsx)(p.A,{p:1,children:(0,r.jsx)(X.A,{children:"Error loading library index :-("})});const x=i.trim().toLowerCase();var g;const b=x&&null!==(g=null==s?void 0:s.libraries.filter((e=>e.toLowerCase().includes(x))))&&void 0!==g?g:[],f=e=>{const n=(e=>{const n=b.length-1;switch(e){case"ArrowUp":return Math.max(0,l-1);case"ArrowDown":return Math.min(n,l+1);case"PageUp":return Math.max(0,l-12);case"PageDown":return Math.max(0,l+12);default:return null}})(e.code);var t;null!=n&&(null===(t=u.current)||void 0===t||t.scrollIntoView({index:n,behavior:"auto",done:()=>c(n)}),e.preventDefault())};return(0,r.jsxs)(p.A,{p:2,minWidth:300,children:[(0,r.jsxs)(Ze.A,{position:"sticky",onFocus:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.focus()},children:[(0,r.jsx)($e.A,{autoFocus:!0,ref:d,value:i,onChange:e=>o(e.target.value),onClick:e=>e.stopPropagation(),sx:{width:"100%"},onKeyDown:e=>{if("Enter"===e.key){const t=l>=0&&b[l];t&&(n(t),e.preventDefault())}else"ArrowDown"!==e.key&&"ArrowUp"!==e.key&&"PageUp"!==e.key&&"PageDown"!=e.key||(f(e),e.preventDefault())},endAdornment:(0,r.jsx)(Qe.A,{position:"end",children:(0,r.jsx)(Je.A,{})})})," "]}),(0,r.jsxs)(en.A,{children:[x&&!s&&(0,r.jsxs)(p.A,{py:2,children:[(0,r.jsx)(X.A,{children:"Loading library index..."}),(0,r.jsx)(nn.A,{})]}),b.length>0&&(0,r.jsx)(rn.aY,{style:{height:"400px",maxHeight:"100%"},data:b,ref:u,scrollerRef:e=>{e instanceof HTMLElement&&(e.addEventListener("keydown",f),m.current=()=>e.removeEventListener("keydown",f))},itemContent:(e,t)=>(0,r.jsx)(h.A,{onClick:()=>n(t),className:(0,sn.default)(e===l&&"Mui-focusVisible"),children:t},t)}),x&&!b.length&&(0,r.jsx)(X.A,{color:"gray",children:"No libraries found"}),!x&&(0,r.jsx)(X.A,{color:"gray",children:"Type some text to search for libraries"})]}),!x&&(0,r.jsx)(j.A,{startIcon:(0,r.jsx)(qe.A,{}),onClick:t,children:"Upload a library"})]})})),ln="wokwi:";var cn=t(33954),dn=t(99547),un=t(8852),hn=t(18508);function pn(e){const n=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/\W+/g,"-").toLowerCase();return"https://www.arduinolibraries.info/libraries/".concat(n)}const mn=(0,A.PA)((e=>{let{library:n,onRemoveLibrary:t}=e;const[s,a]=n.split("@"),i=null==a?void 0:a.startsWith(ln),o=s+".zip",l=null==a?void 0:a.substring(6),c="https://wokwi.com/storage/libs/".concat(l,"/").concat(o);return(0,r.jsxs)(fe.Ay,{secondaryAction:(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)("a",{href:c,download:!0,children:(0,r.jsx)(f.A,{children:(0,r.jsx)(cn.A,{})})}),!i&&(0,r.jsx)(f.A,{href:pn(s),target:"_blank",children:(0,r.jsx)(dn.A,{})}),(0,r.jsx)(f.A,{onClick:t,children:(0,r.jsx)(we.A,{})})]}),children:[(0,r.jsx)(je.A,{children:(0,r.jsx)(hn.A,{children:(0,r.jsx)(un.A,{})})}),(0,r.jsx)(m.A,{primary:i?o:s})]})}));var xn=t(91820);const gn=(0,A.PA)((e=>{let{uploadState:n}=e;const{translate:t}=(0,I.W)("project.libManager.uploadDialog"),s=()=>n.abort();return(0,r.jsxs)(J.A,{open:n.uploading,onClose:s,"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,r.jsx)($.A,{id:"form-dialog-title",children:t("title","Uploading library...")}),(0,r.jsx)(Z.A,{children:(0,r.jsx)(xn.d,{value:100*n.progress})}),(0,r.jsx)(q.A,{children:(0,r.jsx)(j.A,{onClick:s,children:t("cancelButton","Cancel")})})]})}));var jn=t(50467);class bn{async startUpload(e,n){this.uploading=!0,this.abortController=new AbortController;const t=await(0,R.Us)(e,n,{abortSignal:this.abortController.signal,onProgress:e=>this.updateProgress(e.loaded/e.total)}),r=this.abortController.signal.aborted;return this.finishUpload(),r?null:null!=t?t:null}updateProgress(e){this.progress=e}finishUpload(){this.uploading=!1,this.abortController=void 0}abort(){var e;this.uploading=!1,null===(e=this.abortController)||void 0===e||e.abort()}constructor(){(0,jn._)(this,"uploading",!1),(0,jn._)(this,"progress",0),(0,jn._)(this,"abortController",void 0),(0,Le.l_)(this)}}const fn=(0,A.PA)((()=>{var e;const n=(0,ye.B)(),t=(0,me.A)(),s=(0,S.useRef)(null),[a,i]=(0,S.useState)(!1),[o,l]=(0,S.useState)(!1),[c]=(0,S.useState)(new bn);var d;const u=Array.from((0,Ve.h)(null!==(d=null===(e=n.findFile(Xe.mx))||void 0===e?void 0:e.content)&&void 0!==d?d:"")),h=e=>{n.libraryManager.addLibrary(e),i(!1)},x=e=>{n.libraryManager.removeLibrary(e)};return(0,r.jsxs)(p.A,{display:"flex",flexDirection:"column",flex:1,height:0,position:"relative",children:[(0,r.jsx)(gn,{uploadState:c}),(0,r.jsx)(ke,{show:o,onHide:()=>l(!1),featureName:"libman"}),(0,r.jsxs)(p.A,{p:1,children:[(0,r.jsx)(X.A,{variant:"h5",component:"h2",children:"Project Libraries"}),(0,r.jsx)(b.A,{title:"Add a new library",children:(0,r.jsx)(Ge.A,{color:"primary",size:"medium",ref:s,onClick:()=>i(!0),sx:{position:"absolute",top:16,right:16,zIndex:10},children:(0,r.jsx)(He.A,{})})}),(0,r.jsx)(Ye.Ay,{open:a,anchorEl:s.current,onClose:()=>i(!1),onClick:()=>i(!1),onKeyDown:e=>{"Enter"===e.key&&(i(!1),e.stopPropagation())},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,r.jsx)(on,{onAddLibrary:h,onUploadLibrary:async()=>{if(!t.club)return void l(!0);const{files:e}=await(0,Ae.Km)({directory:!0}),n=Array.from(e).filter(R.$_);if(!n.length)return void alert("Invalid library: no source files (.c, .cpp, .h) found!");const r=await c.startUpload(t,n);r&&(x(r.libraryName),h("".concat(r.libraryName,"@").concat(ln).concat(r.fileId)))}})})]}),(0,r.jsxs)(be.A,{sx:{flex:1,bgcolor:"background.paper",overflow:"auto"},"aria-labelledby":"nested-list-subheader",subheader:(0,r.jsx)(Ke.A,{component:"div",id:"nested-list-subheader",children:"Installed Libraries"}),children:[!u.length&&(0,r.jsx)(fe.Ay,{children:(0,r.jsx)(m.A,{children:"No libraries installed."})}),u.map((e=>(0,r.jsx)(mn,{library:e,onRemoveLibrary:()=>x(e.split("@")[0])},e)))]})]})}));var vn=t(78351),An=t(9422),yn=t(91596);var kn=t(75692),wn=t(62583),Cn=t(62887),_n=t(72245),Pn=t(64472),Sn=t.n(Pn);function In(e){const n=[],{items:t}=e;for(let e=0;e<4;e++)e<t.length?n.push((0,wn.Fd)(t[e])):n.push("        ");return e.empty&&(n[0]="<EMPTY> "),n.join(" ")}const En=(0,A.PA)((()=>{const[e,n]=(0,S.useState)(0),[t,s]=(0,S.useState)(0),[,a]=(0,S.useState)(0),i=(0,S.useContext)(_n.O),o=i.tempRunner,l=o.cpu,c=o.pioRunners[e],{instructions:d,machines:u}=l.pio[e],h=u[t],p=h.pc,m=(0,S.useMemo)((()=>(0,kn.n)(d,(0,kn.W)(h.pinCtrl))),[d,h]),x=function(){const[,e]=(0,S.useState)(0);return(0,S.useCallback)((()=>{e((e=>e+1))}),[])}();(0,S.useEffect)((()=>{const e=setInterval((()=>{a(h.cycles)}),100);return()=>clearInterval(e)}),[h]);const g=()=>{l.pio[e].step(),i.forceUpdate(),a(h.cycles)},b=(0,S.useMemo)((()=>{if(!h.enabled)return"STOP";if(!h.waiting)return"RUN";const e=h.waitPolarity?"1":"0";switch(h.waitType){case 1:return"WAIT ".concat(e," PIN ").concat(h.waitIndex);case 2:return"WAIT RXFIFO";case 3:case 5:return"WAIT TXFIFO";case 4:return"WAIT ".concat(e," IRQ ").concat(h.waitIndex);default:return""}}),[h.waitType,h.waitPolarity,h.waitIndex,h.waiting,h.enabled]);return(0,r.jsxs)("div",{className:Sn().debugger,onKeyPress:e=>{"n"===e.key.toLowerCase()&&(g(),e.preventDefault())},children:[(0,r.jsxs)("div",{children:["Wokwi PIO Debugger"," ",(0,r.jsxs)(W.A,{size:"small",children:[(0,r.jsx)(j.A,{onClick:()=>{i.paused?i.resume():i.pause()},children:i.paused?(0,r.jsx)(vn.A,{}):(0,r.jsx)(An.A,{})}),(0,r.jsx)(j.A,{disabled:!i.running||!i.paused,children:(0,r.jsx)(yn.A,{onClick:g})})]})," ","PIO:"," ",(0,r.jsxs)(W.A,{size:"small",children:[(0,r.jsx)(j.A,{onClick:()=>n(0),variant:0===e?"contained":"outlined",children:"0"}),(0,r.jsx)(j.A,{onClick:()=>n(1),variant:1===e?"contained":"outlined",children:"1"})]}),"Machine:",(0,r.jsxs)(W.A,{size:"small",children:[(0,r.jsx)(j.A,{onClick:()=>s(0),variant:0===t?"contained":"outlined",children:"0"}),(0,r.jsx)(j.A,{onClick:()=>s(1),variant:1===t?"contained":"outlined",children:"1"}),(0,r.jsx)(j.A,{onClick:()=>s(2),variant:2===t?"contained":"outlined",children:"2"}),(0,r.jsx)(j.A,{onClick:()=>s(3),variant:3===t?"contained":"outlined",children:"3"})]})]}),(0,r.jsx)("div",{className:Sn().listing,children:m.map((e=>(0,r.jsxs)("pre",{className:(0,sn.default)(e.address===p&&Sn().current),children:[(0,r.jsx)("input",{title:"Breakpoint","aria-label":"Breakpoint",type:"checkbox",checked:!!(c.breakpoints&1<<e.address),className:(0,sn.default)(Sn().breakpoint),onChange:()=>{c.breakpoints^=1<<e.address,x()}}),(0,r.jsx)("span",{className:Sn().lineNumber,children:(0,Cn.dP)(e.address,2," ")}),(0,r.jsx)("span",{children:e.text})]},e.address)))}),(0,r.jsxs)("div",{className:Sn().registers,children:["Registers: X ",(0,wn.Fd)(h.x)," Y ",(0,wn.Fd)(h.y)," ISR ",(0,wn.Fd)(h.inputShiftReg)," [",(0,r.jsx)("span",{children:(0,Cn.dP)(h.inputShiftCount,2," ")}),"] OSR"," ",(0,wn.Fd)(h.outputShiftReg)," [",(0,r.jsx)("span",{children:(0,Cn.dP)(h.outputShiftCount,2," ")}),"] CYCLES ",(0,r.jsx)("span",{children:(0,Cn.dP)(h.cycles,8," ")})," ",b,(0,r.jsx)("br",{}),"RX: ",(0,r.jsx)("span",{className:Sn().fifo,children:In(h.rxFIFO)}),"TX: ",(0,r.jsx)("span",{className:Sn().fifo,children:In(h.txFIFO)})]})]})}));var Ln=t(41815),Fn=t(88476);class Nn{get currentItemIndex(){return this._currentItemIndex}get running(){return this._running}get failed(){return this._failed}get success(){return!this._failed&&!this._running}async sleep(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await new Promise((t=>{this.sleepDoneCallback=t,this.sleepEvent.schedule(e),n&&this.sim.resume()}))}async serialReadLine(e){if(0===this.serialBuffer.length){const n=new Promise((e=>{this.serialReadDone=e,this.sim.resume()}));await(e?Promise.race([n,e]):n),this.serialReadDone=()=>{}}return this.serialBuffer.shift()}fail(e){this._failed=!0,this._running=!1;const n=this.items[this._currentItemIndex];n.status="error",n.error=e}async step(){const e=this.items[this._currentItemIndex];if(e){switch(e.status="running",e.type){case"wait-serial":const n=e.timeout?this.sleep(1e6*e.timeout,!1):void 0;let t=await this.serialReadLine(n);for(;(null==t?void 0:t.trim())!==e.text;){if(!t){this.fail("Timed out after ".concat(e.timeout," ms"));break}t=await this.serialReadLine(n)}break;case"press-button":const r=this.diagram.parts.find((n=>n.id===e.partId));if(!r)return void this.fail("Part ".concat(e.partId," not found"));r.setFloatVar("pressed",1),await this.sleep(1e6*e.duration),r.setFloatVar("pressed",0);break;case"set-control":const s=this.diagram.parts.find((n=>n.id===e.partId));if(!s)return void this.fail("Part ".concat(e.partId," not found"));s.setFloatVar(e.control,e.value);break;case"delay":await this.sleep(1e6*e.duration)}this.running&&(e.status="success",this._currentItemIndex++,this.step())}else this._running=!1}constructor(e,n,t){(0,jn._)(this,"sim",void 0),(0,jn._)(this,"diagram",void 0),(0,jn._)(this,"items",void 0),(0,jn._)(this,"_currentItemIndex",void 0),(0,jn._)(this,"_running",void 0),(0,jn._)(this,"_failed",void 0),(0,jn._)(this,"sleepEvent",void 0),(0,jn._)(this,"sleepDoneCallback",void 0),(0,jn._)(this,"serialLine",void 0),(0,jn._)(this,"serialBuffer",void 0),(0,jn._)(this,"serialReadDone",void 0),this.sim=e,this.diagram=n,this.items=t,this._currentItemIndex=0,this._running=!0,this._failed=!1,this.sleepDoneCallback=()=>{},this.serialLine="",this.serialBuffer=[],this.serialReadDone=()=>{},(0,Le.l_)(this);for(const e of t)e.status=void 0,e.error=void 0;this.sleepEvent=this.sim.tempRunner.createEvent((()=>{this.sim.pause(),this.sleepDoneCallback()})),this.sim.serialRx.subscribe((e=>{for(const n of e)10===n?(this.serialBuffer.push(this.serialLine),this.serialLine="",this.serialReadDone()):this.serialLine+=String.fromCharCode(n)})),this.step()}}var Rn=t(55367),Dn=t(42728),Bn=t(10509),Wn=t(56074);const zn=(0,A.PA)((e=>{let{items:n,diagram:t}=e;const[s,a]=(0,S.useState)(!1),i=(0,S.useRef)(null);function o(e){n.push(e),a(!1)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Rn.A,{ref:i,fontSize:"large",onClick:()=>a(!0),sx:{marginX:1,"&:hover":{color:"white"},cursor:"pointer"}}),(0,r.jsxs)(z.A,{anchorEl:i.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:s,onClose:()=>a(!1),children:[(0,r.jsxs)(h.A,{onClick:()=>{const e=t.parts.find((e=>"wokwi-pushbutton"===e.type));var n;o({type:"press-button",partId:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:"btn1",duration:100})},children:[(0,r.jsx)(je.A,{children:(0,r.jsx)(Dn.A,{})}),(0,r.jsx)(m.A,{children:"Interaction"})]}),(0,r.jsxs)(h.A,{onClick:()=>o({type:"delay",duration:1e3}),children:[(0,r.jsx)(je.A,{children:(0,r.jsx)(Bn.A,{})}),(0,r.jsx)(m.A,{children:"Delay"})]}),(0,r.jsxs)(h.A,{onClick:()=>{o({type:"wait-serial",text:"Serial output",timeout:1e3})},children:[(0,r.jsx)(je.A,{children:(0,r.jsx)(Wn.A,{})}),(0,r.jsx)(m.A,{children:"Serial"})]})]})]})})),Tn=(0,A.PA)((e=>{let{index:n,item:t,onDelete:s}=e;const a="success"===t.status?"green":"error"===t.status?"#800":"#333";return(0,r.jsxs)(Y.A,{sx:{width:250,border:"solid white 1px","&:hover .buttons":{opacity:1}},mb:2,position:"relative",children:[(0,r.jsxs)(Y.A,{sx:{background:a},p:1,direction:"row",children:[(0,r.jsxs)(X.A,{flex:"1",children:[n,". ",t.type]}),(0,r.jsxs)(Y.A,{className:"buttons",direction:"row",sx:{opacity:0,transition:"opacity 0.2s","&:hover":{opacity:1}},children:[(0,r.jsx)(f.A,{size:"small",onClick:()=>{if("delay"===t.type){const e=prompt("Enter delay in milliseconds",t.duration.toString());e&&(t.duration=parseInt(e,10))}if("wait-serial"===t.type){const e=prompt("Enter expected serial text",t.text);e&&(t.text=e)}},children:(0,r.jsx)(u.A,{})}),(0,r.jsx)(f.A,{size:"small",onClick:()=>s(n),children:(0,r.jsx)(we.A,{})})]}),"running"===t.status&&(0,r.jsx)(_e.A,{size:24})]}),(0,r.jsxs)(Y.A,{flex:1,sx:{minHeight:100},p:1,justifyContent:"center",children:[(0,r.jsx)(X.A,{children:t.text?'"'.concat(t.text,'"'):"delay"===t.type?"".concat(t.duration," ms"):""}),t.error&&(0,r.jsx)(X.A,{color:"error",children:t.error})]})]})})),Un=Le.sH.array([{type:"wait-serial",text:"Pushbutton Counter",timeout:1e3},{type:"press-button",partId:"btn1",duration:100},{type:"delay",duration:500},{type:"press-button",partId:"btn1",duration:100},{type:"delay",duration:500},{type:"press-button",partId:"btn1",duration:100},{type:"delay",duration:500},{type:"wait-serial",text:"Button pressed 3 times",timeout:500}]),On=(0,A.PA)((e=>{let{}=e;const n=(0,S.useContext)(_n.O),[t,s]=(0,S.useState)(null),a=(0,ye.B)(),i=(0,me.A)();return(0,r.jsxs)(Y.A,{maxHeight:"100%",children:[(0,r.jsx)(Y.A,{direction:"row",p:1,px:2,children:(0,r.jsx)(j.A,{variant:"contained",onClick:async()=>{await n.start({files:a.files,chips:a.chips,binaryFiles:a.binaryFiles,diagram:a.diagram,sdCardFiles:a.sdCardFiles,projectId:a.id,tempProjectId:a.tempId,userId:i.id,autoPause:!0}),n.paused&&s(new Nn(n,a.diagram,Un))},disabled:null==t?void 0:t.running,children:"Run"})}),(0,r.jsxs)(Y.A,{direction:"row",padding:2,flexWrap:"wrap",flex:"1",overflow:"auto",alignItems:"center",children:[Un.map(((e,n)=>(0,r.jsxs)(Y.A,{direction:"row",alignItems:"center",children:[(0,r.jsx)(Tn,{index:n+1,item:e,onDelete:e=>{Un.splice(e-1,1)}},n),n<Un.length-1&&(0,r.jsx)(Ln.A,{fontSize:"medium",sx:{marginX:1}})]},n))),!(null==t?void 0:t.running)&&(0,r.jsx)(zn,{diagram:a.diagram,items:Un}),(null==t?void 0:t.success)&&(0,r.jsx)(Fn.A,{sx:{color:"#0f0",fontSize:128,marginLeft:6},onClick:()=>{for(const e of Un)e.status=void 0,e.error=void 0;s(null)}})]})]})}));var Mn=t(69750),Hn=t(84463),Gn=t(70376),Yn=t.n(Gn),Kn=t(10338),Vn=t(81924),Xn=t.n(Vn);const Jn=(0,A.PA)((()=>{const e=(0,S.useContext)(_n.O);return e.running&&e.debuggerEnabled?(0,r.jsxs)("div",{className:Xn().debugBar,children:[e.paused?(0,r.jsx)(b.A,{title:"Resume program",children:(0,r.jsx)("i",{className:(0,sn.default)(Xn().button,"codicon codicon-debug-continue"),onClick:()=>e.resume()})}):(0,r.jsx)(b.A,{title:"Pause program",children:(0,r.jsx)("i",{className:(0,sn.default)(Xn().button,"codicon codicon-debug-pause"),onClick:()=>e.pause()})}),(0,r.jsx)(b.A,{title:"Step over",children:(0,r.jsx)("i",{className:(0,sn.default)(Xn().button,!e.paused&&Xn().disabled,"codicon codicon-debug-step-over"),onClick:()=>e.stepOver()})}),(0,r.jsx)(b.A,{title:"Step into",children:(0,r.jsx)("i",{className:(0,sn.default)(Xn().button,!e.paused&&Xn().disabled,"codicon codicon-debug-step-into"),onClick:()=>e.stepInto()})}),(0,r.jsx)(b.A,{title:"Step out (run until return)",children:(0,r.jsx)("i",{className:(0,sn.default)(Xn().button,!e.paused&&Xn().disabled,"codicon codicon-debug-step-out"),onClick:()=>e.stepOut()})})]}):null}));var qn=t(9805),Zn=t.n(qn),$n=t(85801),Qn=t(43383),et=t(15770),nt=t(75919);const tt=(0,Kn.X)().dark,rt=(0,A.PA)((e=>{let{diagram:n,readme:t,files:s}=e;var a;const[i,o]=(0,S.useState)(0),{translate:l}=(0,I.W)("simulator.tabs");var c;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(nt.tU,{children:[(0,r.jsx)(nt.oz,{onClick:()=>o(0),active:0===i,children:l("simulation","Simulation")}),(null==t||null===(a=t.content.trim())||void 0===a?void 0:a.length)?(0,r.jsx)(nt.oz,{onClick:()=>o(1),active:1===i,children:l("description","Description")}):null]}),0===i&&n&&(0,r.jsx)(et.g,{diagram:n,files:s}),1===i&&(0,r.jsx)("section",{className:(0,sn.default)("markdown-body",tt&&"dark"),children:(0,r.jsx)($n.o,{remarkPlugins:[Qn.A],children:null!==(c=null==t?void 0:t.content)&&void 0!==c?c:""})}),(0,r.jsx)("style",{children:"\n        .markdown-body {\n          background: #eee;\n          color: black;\n          overflow: auto; /* Enable scrolling */\n          padding: 1.5em;\n          min-height: 100%;\n        }\n        .markdown-body.dark {\n          background: #111;\n          color: inherit;\n        }\n        .markdown-body.dark a {\n          color: #88f;\n        }\n        .markdown-body.dark pre {\n          background: #333;\n        }\n\n        .markdown-body::-webkit-scrollbar {\n          height: 16px;\n          width: 16px;\n        }\n\n        .markdown-body::-webkit-scrollbar-thumb,\n        .markdown-body::-webkit-scrollbar-track {\n          border: 4px solid transparent;\n          border-radius: 8px;\n          background-clip: padding-box;\n        }\n\n        .markdown-body::-webkit-scrollbar-thumb {\n          min-height: 40px;\n        }\n        .markdown-body.dark::-webkit-scrollbar-thumb {\n          background-color: #3d3a3a;\n        }\n\n        .markdown-body::-webkit-scrollbar-track {\n          margin-bottom: 8px;\n        }\n        .markdown-body.dark::-webkit-scrollbar-track {\n          background-color: #2a2a2a;\n        }\n\n        .markdown-body.dark table {\n          color: black;\n        }\n      "})]})})),st=(0,A.PA)((e=>{let{project:n,files:t}=e;const s=(0,S.useContext)(H.p),{ref:a,width:i=1,height:o=1}=Yn()(),[l,c]=(0,S.useState)(""),d=(0,Mn.A)();(0,S.useEffect)((()=>{"diagram"===(0,Kn.X)().view&&c("diagram")}),[]),(0,S.useEffect)((()=>{var e;null===(e=s.doLayout)||void 0===e||e.call(s)}),[i,o,s]);const u=n.files.some((e=>["readme","diagram"].includes(e.type))),h=()=>(0,r.jsxs)("div",{className:Zn().editor,ref:a,children:[(0,r.jsx)(Jn,{}),(0,r.jsx)(H.B,{tabs:t,architecture:n.architecture})]}),p=()=>(0,r.jsx)("div",{className:Zn().preview,children:(0,r.jsx)(rt,{diagram:n.diagram,readme:n.readme,files:n.files})});return(0,r.jsx)("div",{className:Zn().container,children:"diagram"===l?(0,r.jsx)("div",{className:Zn().diagramOnly,children:p()}):u?(0,r.jsxs)(Hn.v,{split:"vertical",className:Zn().splitPane,resizerOptions:{hoverCss:{background:d.palette.primary.light,marginLeft:-2,width:4}},collapse:{beforeToggleButton:(0,r.jsx)("button",{children:"âž¡"}),afterToggleButton:(0,r.jsx)("button",{children:"â¬…"}),overlayCss:{backgroundColor:"black"},collapseDirection:"right",buttonTransition:"zoom",buttonPositionOffset:-20,collapsedSize:10,collapseTransitionTimeout:350},children:[h(),p()]}):h()})}));var at=t(77542),it=t(92469),ot=t(82301),lt=t(98975),ct=t.n(lt);const dt=(0,ot.Ay)(at.A)({minHeight:24,background:"#333"}),ut=(0,ot.Ay)(it.A)((e=>{let{theme:n}=e;return{textTransform:"none",minHeight:24,paddingTop:n.spacing(1),paddingBottom:n.spacing(1),"&.Mui-selected":{background:n.palette.secondary.dark,color:n.palette.primary.contrastText}}}));function ht(e){const{children:n,value:t,index:s,...a}=e;return(0,r.jsx)("div",{className:ct().tab,role:"tabpanel",hidden:t!==s,id:"full-width-tabpanel-".concat(s),"aria-labelledby":"full-width-tab-".concat(s),...a,children:t===s&&n})}const pt=(0,A.PA)((e=>{let{project:n,files:t}=e;const{translate:s}=(0,I.W)("simulator.tabs"),a=(0,S.useContext)(H.p),{ref:i,width:o=1,height:l=1}=Yn()(),[c,d]=(0,S.useState)(0);(0,S.useEffect)((()=>{var e;null===(e=a.doLayout)||void 0===e||e.call(a)}),[o,l,a]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(dt,{value:c,onChange:(e,n)=>{d(n)},variant:"fullWidth",indicatorColor:"secondary",children:[(0,r.jsx)(ut,{label:s("simulation","Simulation")}),(0,r.jsx)(ut,{label:s("code","Code")})]}),(0,r.jsxs)("div",{className:ct().container,children:[(0,r.jsx)(ht,{value:c,index:0,children:(0,r.jsx)("div",{className:ct().diagram,children:n.diagram&&(0,r.jsx)(et.g,{diagram:n.diagram,files:n.files})})}),(0,r.jsx)(ht,{value:c,index:1,children:(0,r.jsx)("div",{className:ct().editor,ref:i,children:(0,r.jsx)(H.B,{tabs:t,architecture:n.architecture})})})]})]})})),mt={name:"Library Manager",content:"",customComponent:(0,r.jsx)(fn,{})},xt={name:"Test Scenario Editor",content:"",customComponent:(0,r.jsx)(On,{})},gt=(0,A.PA)((e=>{let{project:n,hex:s}=e;const a=(0,S.useContext)(_n.O),i=(0,S.useContext)(H.p),o=(0,S.useContext)(Me.u),[l,c]=(0,S.useState)(i.ready),d=a.running&&a.showPioDebugger,u=(0,me.A)(),h=(0,xe.b)(),p=function(){const[e,n]=(0,S.useState)("large");return(0,S.useEffect)((()=>{const e=window.matchMedia("(max-width: 640px)"),t=window.matchMedia("(max-width: 1007px)"),r=()=>{e.matches?n("small"):t.matches?n("medium"):n("large")};return"addEventListener"in e?(e.addEventListener("change",r),t.addEventListener("change",r)):(e.addListener(r),t.addListener(r)),r(),()=>{"removeEventListener"in e?(e.removeEventListener("change",r),t.removeEventListener("change",r)):(e.removeListener(r),t.removeListener(r))}}),[]),e}(),m=function(e){var n;const t=(0,S.useMemo)((()=>({name:"SD Card",content:"",customComponent:(0,r.jsx)(Ie,{})})),[]);return t.modified=e.sdCardFiles.some((e=>e.modified)),(null===(n=e.diagram)||void 0===n?void 0:n.parts.find((e=>"wokwi-microsd-card"===e.type)))?[t]:[]}(n);(0,S.useEffect)((()=>{(null==s?void 0:s.cacheKey)&&De.q.put(s.cacheKey,s)})),function(e){const n="Leave page? Changes you made may not be saved.";(0,S.useEffect)((()=>{const t=t=>{if(P().asPath!==t&&e()&&!confirm(n))throw P().events.emit("routeChangeError"),P().replace(P().asPath,P().asPath,{shallow:!0}),"Abort route change. Please ignore this error."},r=t=>{if(e())return t.preventDefault(),t.returnValue=n,n};return window.addEventListener("beforeunload",r),P().events.on("routeChangeStart",t),()=>{window.removeEventListener("beforeunload",r),P().events.off("routeChangeStart",t)}}),[e])}((0,S.useCallback)((()=>n.modified),[n]));const x="_scenarios.json",g=[...n.files.filter((e=>e.name!==x)),...m,..."arduino"===n.projectType?[mt]:[],...n.files.find((e=>e.name===x))?[xt]:[],...d?[{name:"PIO ðŸ›",content:"",customComponent:(0,r.jsx)(En,{})}]:[],...a.debuggerFiles],j={userId:u.id,projectId:n.id,tempProjectId:n.tempId,hp:u.club};(0,S.useEffect)((()=>{n&&l&&n.diagram&&a.start({userId:u.id,projectId:n.id,files:n.files,diagram:n.diagram,preload:!0})}),[n,l,a,u.id]),i.onEditorReady=()=>{c(!0)},i.onRunCode=()=>{n.diagram&&a.start({...j,files:n.files,diagram:n.diagram})};const b=e=>{n.diagram&&a.start({...j,files:n.files,diagram:n.diagram,autoPause:!0,elf:!0,debug:e})};return i.commands.startPaused={name:"Start program paused",callback:b},i.commands.startPaused={name:"Profile program",callback:()=>{n.diagram&&a.start({...j,files:n.files,diagram:n.diagram,elf:!0,profile:!0})}},i.commands.assemblyListing={name:"View Compiled Assembly Code Listing",keybindings:e=>{let{KeyMod:n,KeyCode:t}=e;return[n.CtrlCmd|t.Backquote]},callback:()=>async function(e,n,t){e.removeFile(R.wK);const{hex:r,hexError:s}=await n.build({...t,files:e.files,diagram:e.diagram||Ee.yF.create(),listing:!0});if(s)return console.error(s),void alert("Error connecting to build server: "+s);if(!(null==r?void 0:r.listing))return console.log(null==r?void 0:r.stderr),void alert("Build failed!");const a=e.findFile(R.wK);a?(a.update(r.listing),a.setPristine()):e.addFile(R.wK,r.listing)}(n,a,j)},i.commands.openControlSocket={name:"Open Debug Web Socket",callback:()=>{const e=prompt("Web socket URL?","ws://localhost:2442");e&&function(e,n,t){const r=new WebSocket(e),s=[];let a=!1,i=!1;const o=e=>{r.send(JSON.stringify(e))};r.addEventListener("open",(()=>{o({cmd:"aloha",protocol:"wokwi",version:1}),s.push((0,Le.lB)(n,"status",(e=>{o({cmd:"statusChange",status:Re(e.newValue)}),e.newValue===Fe.i.Paused&&a&&o({cmd:"gdbResponse",response:n.breakpoint?Ne.vY:Ne.WH})}),!1))})),r.addEventListener("error",(()=>{alert("Web socket connection failed!")})),r.addEventListener("close",(()=>{for(const e of s)e();console.log("[Websocket] disconnected")})),r.addEventListener("message",(e=>{const r=e.data;let l;try{l=JSON.parse(r)}catch(e){return void console.error("[Websocket] invalid message:",r)}switch(l.cmd){case"start":{const e=l.hex,{diagram:r}=t;if(!r)return void console.error("[Websocket] can't start simulation: missing diagram");e?n.loadHex(e,r).then((()=>{n.resume()})):n.start({files:t.files,diagram:r});break}case"pause":n.pause();break;case"resume":n.resume();break;case"stop":n.stop();break;case"gdb":{a=!0,n.debugging=!0;const e=n.gdbMessage(l.message);e&&o({cmd:"gdbResponse",response:e})}break;case"serialMonitor":var c,d;i||(s.push(null!==(d=null===(c=n.serialRx)||void 0===c?void 0:c.subscribe((e=>{for(const n of e)o({cmd:"serialData",value:n})})))&&void 0!==d?d:()=>0),i=!0)}}))}(e,a,n)}},i.commands.startGDB={name:"Start Web GDB Session (debug build)",callback:()=>{window.open("https://wokwi.github.io/web-gdb/"),b(!0),window.addEventListener("message",(e=>{const n=e.data;"gdbInit"===n.type&&(console.log("GDB Attached!"),function(e,n){const t=(0,Le.lB)(e,"status",(t=>{t.newValue!==Fe.i.Paused||e.restarting||n.postMessage({type:"gdb",data:e.breakpoint?Ne.vY:Ne.WH})}),!1);e.debugging=!0,n.onmessage=t=>{const r=t.data;switch(r.type){case"break":e.pause();break;case"downloadElf":e.buildResult&&n.postMessage({type:"elf",data:e.buildResult.elf});break;case"downloadSources":var s;(null===(s=e.buildResult)||void 0===s?void 0:s.debugSources)&&n.postMessage({type:"sources",data:(0,Le.HO)(e.buildResult.debugSources)});break;case"gdb":{const t=e.gdbMessage(r.data);t&&n.postMessage({type:"gdb",data:t})}}},n.onmessageerror=()=>{e.debugging=!1,t()}}(a,n.data))}))}},i.commands.downloadHex={name:"Download Compiled Firmware",callback:async()=>{const{hex:e,hexError:t}=await a.build({...j,files:n.files,diagram:n.diagram||Ee.yF.create()});var r,s;if(t)alert(t);else if(null===(s=n.diagram)||void 0===s||null===(r=s.board)||void 0===r?void 0:r.mcuType.startsWith("esp32")){const t=n.diagram.board.mcuType;var i;(0,Oe.PE)("firmware-".concat(t,".bin"),(0,Te.Gp)(null!==(i=null==e?void 0:e.hex)&&void 0!==i?i:""),"application/octet-stream")}else{if((null==e?void 0:e.hex)&&!(null==e?void 0:e.hex.startsWith(":"))){const n=(0,Te.Gp)(e.hex);if((0,We.c)(n))return void(0,Oe.PE)("firmware.uf2",n,"application/octet-stream")}var o;(0,Oe.PE)("firmware.hex",null!==(o=null==e?void 0:e.hex)&&void 0!==o?o:"","application/octet-stream")}}},i.commands.flash={name:"Flash firmware to device (beta)",callback:async()=>{var e,t;const r=null===(t=n.diagram)||void 0===t||null===(e=t.board)||void 0===e?void 0:e.mcuType;if(!(null==r?void 0:r.startsWith("esp32")))return void alert("This feature is only available for ESP32 boards");const{hex:s,hexError:i}=await a.build({...j,files:n.files,diagram:n.diagram||Ee.yF.create()});if(i)alert(i);else if(s){const e="".concat(s.cacheKey,"-").concat((new Date).getTime());window.open("https://flasher-esp32.apps.wokwi.com/?mcu=".concat(r,"&build=").concat(e)),window.addEventListener("message",(n=>{const t=n.data,r=t.port;if("loadBinary"===t.type&&t.build===e){var a;const e=(0,Te.Gp)(null!==(a=null==s?void 0:s.hex)&&void 0!==a?a:"");r.postMessage({type:"flash",binaries:[{offset:65536,data:e.buffer}]},{transfer:[e.buffer]})}}))}}},i.commands.downloadUF2={name:"Download UF2 Binary",callback:async()=>{const e=t.e(1606).then(t.bind(t,71606)),{hex:r,hexError:s}=await a.build({...j,files:n.files,diagram:n.diagram||Ee.yF.create()}),{hexToUF2:i}=await e;var o;s?alert(s):(0,Oe.PE)("firmware.uf2",i(null!==(o=null==r?void 0:r.hex)&&void 0!==o?o:""),"application/octet-stream")}},i.commands.downloadELF={name:"Download ELF with Debugging Symbols",callback:async()=>{const{hex:e,hexError:t}=await a.build({...j,files:n.files,diagram:n.diagram||Ee.yF.create(),elf:!0,debug:!0});var r;t?alert(t):(0,Oe.PE)("firmware.elf",(0,Te.Gp)(null!==(r=null==e?void 0:e.elf)&&void 0!==r?r:""),"application/octet-stream")}},i.commands.simulateHex={name:"Load HEX File and Start Simulation...",callback:()=>{alert('This command has been renamed to "Upload Firmware and Start Simulationâ€¦"')}},i.commands.uploadFirmware={name:"Upload Firmware and Start Simulationâ€¦",callback:async()=>{const{files:e}=await(0,Ae.Km)({}),t=null==e?void 0:e[0];if(!t)return;const r=t.name.toLowerCase(),s=r.endsWith(".hex"),i=await(s?(0,Ae.Gu)(t):(0,Ae._N)(t));n.diagram&&a.start({...j,files:n.files,diagram:n.diagram,autoPause:r.includes("-pause."),profile:r.includes("-profile."),sideHex:i})}},i.commands.chipAPITracing={name:"Enable Chip API Tracing",callback:async()=>{(0,Be.Y)()}},i.commands.loadCustomBoard={name:"Load custom board file...",callback:async()=>{const{files:e}=await(0,Ae.Km)({directory:!0}),t=[...e],r=t.find((e=>"board.json"===e.name)),s=t.find((e=>"board.svg"===e.name));if(!r)return void alert("Error: missing board.json!");if(!s)return void alert("Error: missing board.svg!");const[a,i]=await Promise.all([(0,Ae.Gu)(r),(0,Ae.Gu)(s)]);h.loadUserBoard(a,i),n.syncDiagram(),o.fit()}},i.commands.downloadPcap={name:"Download WiFi Packet Capture (PCAP) file",callback:async()=>{const{wifi:e}=a;e&&e.medium.frames.length?e.medium.downloadPcap():alert("No clients connect to the virtual WiFi")}},i.commands.enableGateway={name:"Enable Private Wokwi IoT Gateway",callback:()=>{if(!(0,ze.$D)(u))return void alert("This feature is only available for paying users: https://wokwi.com/pricing");const e=confirm("Enable local Wokwi IoT Gateway?");(0,ze.bJ)(e)}},i.commands.enablePrivateBuild={name:"Enable private build server",callback:()=>{const e=prompt("Build server name? (empty to disable)","");e&&"PIAI-df68d5f0"!==e&&"localhexi"!==e?alert("Unknown build server"):(localStorage.removeItem("__buildServer"),localStorage.removeItem("__hexi"),"localhexi"===e?localStorage.setItem("__hexi","http://localhost:4055"):e&&localStorage.setItem("__buildServer",e))}},(0,Ue.lD)()&&(i.commands.loadLocalLibraries={name:"Select local Arduino libraries directory",callback:async()=>{const e=await(0,Ue.G)();e&&(a.localLibraryDirectory=e)}}),i.commands.downloadPcap={name:"Force Save (for locked projects)",callback:async()=>{var e;null===(e=i.onSaveCode)||void 0===e||e.call(i,!0)}},"small"===p?(0,r.jsx)(pt,{project:n,files:g}):(0,r.jsx)(st,{project:n,files:g})}));var jt=t(64394),bt=t.n(jt);const ft=(0,v.A)(h.A)({height:48}),vt=(0,A.PA)((e=>{let{project:n,embedMode:t}=e;const[a,h]=(0,S.useState)(!1),[v,A]=(0,S.useState)(!1),[y,w]=(0,S.useState)(!1),[P,B]=(0,S.useState)(!1),[W,z]=(0,S.useState)(!1),T=(0,E.W)(),[U]=(0,S.useState)({ready:!1,embedMode:t||T.embed,commands:{}}),Y=(0,S.useContext)(_n.O),X=(0,S.useContext)(L.Rs),{translate:J}=(0,I.W)("project"),q=(0,_.useRouter)();(0,S.useEffect)((()=>{(0,D.h)()}),[]),(0,S.useEffect)((()=>{X.token&&n.updateFromServer(X)}),[n,X,X.token]);const{hatcheryEgg:Z}=T;(0,S.useEffect)((()=>{Z&&n.loadEgg(Z)}),[n,Z]);const $=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.locked){if(!e)return void alert(J("error.saveFailed","Save failed: project is locked!"));if(!confirm(J("confirm.saveLockedProject","Override locked project?")))return}if(n.name)if(ne){h(!0);try{await(0,R.JU)(X,n,!1),n.setPristine()}catch(e){alert("Project saving failed! Your changes have not been saved.")}finally{h(!1)}}else z(!0);else B(!0)},Q=async e=>{h(!0);const t=n.name;try{n.setName(e);const t=await(0,R.JU)(X,n,!0);n.changeId(t.projectId),n.changeOwner(t.owner),n.setPristine(),q.push("/projects/".concat(n.id),void 0,{shallow:!0})}catch(e){alert("Project saving failed! Your changes HAVE NOT been saved.\n\n".concat(e)),n.setName(t)}finally{h(!1)}};U.onSaveCode=$,(0,S.useEffect)((()=>()=>{Y.closeProject()}),[n,Y]);const ee=n.id?(0,N.a)("https://wokwi.com/share/".concat(n.id),n.updated):null,ne=n.owner&&n.owner===X.id,{ownerUsername:te}=n;return(0,r.jsxs)(K,{children:[(0,r.jsx)(k(),{children:ee&&(0,r.jsx)("link",{rel:"alternate",type:"application/json+oembed",href:ee,title:"Wokwi oEmbed provider"})}),(0,r.jsx)(G.P,{children:(0,r.jsxs)("div",{className:bt().topButtons,children:[(0,r.jsxs)(O,{size:"small",onClick:()=>$(),disabled:!n.modified||a||n.locked,variant:"contained",text:(0,r.jsx)(p.A,{component:"span",sx:{display:{xs:"none",sm:"initial"}},children:J("header.save","Save")}),startIcon:a?(0,r.jsx)(i(),{path:s.PJB,size:1,spin:!0}):(0,r.jsx)(i(),{path:s.nhs,size:1}),children:[(0,r.jsxs)(M,{children:[(0,r.jsxs)(ft,{onClick:()=>A(!0),disabled:a,sx:{display:{xs:"block",sm:"none"}},children:[(0,r.jsx)("div",{className:bt().buttonIcon,children:(0,r.jsx)(i(),{path:s.YuT,size:1})}),J("header.share","Share")]}),(0,r.jsxs)(ft,{disabled:null==n.id,onClick:()=>z(!0),children:[(0,r.jsx)("div",{className:bt().buttonIcon,children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(m.A,{children:J("menu.saveACopy","Save a copy")})]})]}),ne&&(0,r.jsx)(ft,{children:(0,r.jsx)(x.A,{control:(0,r.jsx)(g.A,{name:"lock",checkedIcon:(0,r.jsx)(l.A,{}),icon:(0,r.jsx)(c.A,{}),checked:n.locked,onChange:(e,t)=>{n.setLocked(t),(0,R.vr)(X,n)}}),label:J("menu.lockProject","Lock project")})}),(0,r.jsxs)(ft,{onClick:()=>(0,D.z)(n),children:[(0,r.jsx)("div",{className:bt().buttonIcon,children:(0,r.jsx)(i(),{path:s.XCd,size:1})}),(0,r.jsx)(m.A,{children:J("menu.downloadProjectZip","Download project ZIP")})]})]}),(0,r.jsx)(j.A,{size:"small",className:bt().button,sx:{display:{xs:"none",sm:"flex"}},onClick:()=>A(!0),disabled:a,variant:"contained",startIcon:(0,r.jsx)(i(),{path:s.YuT,size:1}),children:J("header.share","Share")}),n.isDBProject&&(0,r.jsx)(b.A,{title:n.userLiked?J("header.unlikeProjectTooltip","Unlike this project"):J("header.likeProjectTooltip","Like this project"),children:(0,r.jsx)(f.A,{onClick:async()=>{if(!X.loggedIn)return void alert(J("error.signInToLikeProject","Please sign-in to Like this project."));if(!n||!n.id)return;const e=!n.userLiked;n.updateUserLike(e),n.updateHearts((await(0,R.WW)(X,n.id,e)).hearts),(0,F.H)({action:e?"like":"unlike",category:"project",label:n.name})},color:n.userLiked?"primary":"default",size:"large",children:(0,r.jsx)(d.A,{})})}),(ne||te)&&(0,r.jsxs)(p.A,{mx:1,sx:{position:"relative",lineHeight:1.2,display:{xs:"none",md:"block"}},children:[n.name," ",(0,r.jsx)(f.A,{size:"small",sx:{position:"absolute",top:-4},onClick:()=>w(!0),children:(0,r.jsx)(u.A,{})}),te&&(0,r.jsxs)("div",{children:["by"," ",(0,r.jsx)(C(),{href:"/makers/[maker]",as:"/makers/".concat(te),children:te})]})]})]})}),y&&(0,r.jsx)(V.U,{project:n,isOpen:y,onClose:()=>w(!1)}),(0,r.jsx)(le,{project:n,isOpen:P,onClose:()=>B(!1),onSaveClick:Q}),(0,r.jsx)(oe,{project:n,isOpen:W,onClose:()=>z(!1),onSaveCopyClick:Q}),(0,r.jsx)(pe,{open:v,project:n,onClose:()=>A(!1),saving:a,onSaveProject:()=>B(!0)}),(0,r.jsx)("main",{className:bt().main,children:(0,r.jsx)(ye.v.Provider,{value:n,children:(0,r.jsx)(H.p.Provider,{value:U,children:(0,r.jsx)(gt,{project:n})})})})]})}))},5532:(e,n,t)=>{"use strict";t.d(n,{B:()=>U});var r=t(74848),s=t(62139),a=t(99318),i=t(16699),o=t(57593),l=t(44671),c=t(71592),d=t(2740),u=t(86636),h=t(18508),p=t(51308),m=t(74755),x=t(92470),g=t(73680),j=t(73708),b=t(64204),f=t(74790),v=t(9897),A=t(20419),y=t(55706),k=t(49672),w=t(91879),C=t(37200),_=t(79369),P=t(36277),S=t(91106),I=t.n(S),E=t(96540),L=t(98235),F=t(51683),N=t(79002),R=t(18148),D=t.n(R),B=t(10699),W=t(78432);const z=(0,_.A)("div")((e=>{let{theme:n}=e;return{background:n.palette.secondary.dark,textAlign:"center",padding:n.spacing(1),fontSize:"80%"}})),T=[{key:"en",name:"English"},...Object.entries(N.c).map((e=>{let[n,t]=e;return{key:n,name:t.name}}))],U=(0,P.PA)((e=>{let{size:n}=e;const t=(0,L.A)(),[_,P]=(0,E.useState)(!1),S=(0,E.useRef)(null),[N,R]=(0,E.useState)(!1),{translate:U}=(0,F.W)("userMenu"),[O,M]=(0,E.useState)(!1),[H,G]=(0,E.useState)(!1),Y=()=>{M(!1)};(0,E.useEffect)((()=>{G(t.loggedIn),t.loggedIn&&R(!1)}),[t.loggedIn]);const K=t.bestPlan(),V=K===W.nQ.Club?"CLUB MEMBER":K?"".concat(K.name.toUpperCase()," ACCOUNT"):"FREE USER";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.f,{open:N,onClose:()=>R(!1)}),H?(0,r.jsxs)(u.A,{onClick:()=>P(!_),size:n,children:[(0,r.jsx)(h.A,{src:t.profileImage,alt:t.displayName,ref:S,style:"small"===n?{width:30,height:30}:{}}),(0,r.jsxs)(p.A,{anchorEl:S.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:_,onClose:()=>P(!1),children:[(0,r.jsxs)(m.Ay,{children:[(0,r.jsx)(x.A,{children:(0,r.jsx)(h.A,{src:t.profileImage,alt:t.displayName})}),(0,r.jsx)(g.A,{primary:t.displayName,secondary:t.email})]}),t.club&&(0,r.jsx)(z,{children:V}),(0,r.jsx)(I(),{href:"/dashboard/projects",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(j.A,{component:"a",children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(s.A,{})}),(0,r.jsx)(g.A,{children:U("myProjects","My projects")})]})}),(0,r.jsx)(I(),{href:"/dashboard/profile",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(j.A,{component:"a",children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(a.A,{})}),(0,r.jsx)(g.A,{children:U("profile","Profile")})]})}),(0,r.jsx)(I(),{href:"/dashboard/ci",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(j.A,{component:"a",children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(i.A,{})}),(0,r.jsx)(g.A,{children:U("ciTokens","CI Tokens")})]})}),t.club?(0,r.jsx)(I(),{href:"/dashboard/subscriptions?ref=usermenu",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(j.A,{component:"a",children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(g.A,{children:U("yourSubscription","Your Subscriptions")})]})}):(0,r.jsx)(I(),{href:"/pricing?ref=usermenu",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(j.A,{component:"a",children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(g.A,{children:U("upgrade","Upgrade")})]})}),(0,r.jsx)(I(),{href:"/features",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(j.A,{component:"a",children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(f.A,{badgeContent:t.votePowers,color:"primary",children:(0,r.jsx)(l.A,{})})}),(0,r.jsx)(g.A,{children:U("featureRoadmap","Feature Roadmap")})]})}),(0,r.jsxs)(j.A,{onClick:()=>{M(!0)},children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(c.A,{})}),(0,r.jsx)(g.A,{children:U("language","Language")})]}),(0,r.jsxs)(j.A,{onClick:()=>{t.logout()},children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(d.A,{})}),(0,r.jsx)(g.A,{children:U("logout","Logout")})]})]})]}):(0,r.jsx)(v.A,{variant:"contained",color:"primary",size:n,onClick:()=>R(!0),children:(0,r.jsxs)("span",{className:D().altContent,children:[(0,r.jsx)("span",{className:D().alt1,children:U("signIn","Sign in")}),(0,r.jsx)("span",{className:D().alt2,children:U("signUp","Sign up")})]})}),(0,r.jsxs)(A.A,{open:O,onClose:Y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsx)(y.A,{id:"alert-dialog-title",children:"Choose your language"}),(0,r.jsx)(k.A,{children:(0,r.jsx)(w.A,{children:T.map((e=>(0,r.jsx)(m.Ay,{disableGutters:!0,button:!0,onClick:()=>{t.setLangId(e.key),Y()},children:e.name},e.key)))})}),(0,r.jsx)(C.A,{children:(0,r.jsx)(v.A,{onClick:Y,autoFocus:!0,children:"close"})})]})]})}))},9055:(e,n,t)=>{"use strict";function r(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return"https://wokwi.com/api/oembed?url=".concat(encodeURIComponent(e),"&t=").concat(n.getTime(),"}")}t.d(n,{a:()=>r})},75692:(e,n,t)=>{"use strict";function r(e){return{sidesetCount:e>>29&7,sideEn:!!(e&1<<30)}}function s(e){const n=255&e;switch(e>>>13){case 0:{const e={0:"",1:"!x",2:"x--",3:"!y",4:"y--",5:"x!=y",6:"pin",7:"!osre"}[n>>5],t=31&n;return"jmp ".concat(e?e+", ":"").concat(t)}case 1:{const e={0:"gpio",1:"pin",2:"irq",3:"reserved"}[n>>5&3],t="irq"===e?7&n:31&n,r="irq"===e&&16&n?" rel":"";return"wait ".concat(128&n?"1":"0"," ").concat(e," ").concat(t).concat(r)}case 2:{const e=31&n;return"in ".concat({0:"pins",1:"x",2:"y",3:"null",4:"reserved",5:"reserved",6:"isr",7:"osr"}[n>>5],", ").concat(e||32)}case 3:{const e=31&n;return"out ".concat({0:"pins",1:"x",2:"y",3:"null",4:"pindirs",5:"pc",6:"isr",7:"exec"}[n>>5],", ").concat(e||32)}case 4:{const e=32&n?"":" noblock",t=64&n;return 128&n?"pull".concat(t?" ifempty":"").concat(e):"push".concat(t?" iffull":"").concat(e)}case 5:{const e={0:"pins",1:"x",2:"y",3:"null",4:"reserved",5:"status",6:"isr",7:"osr"}[7&n],t=n>>3&3,r={0:"pins",1:"x",2:"y",3:"reserved",4:"exec",5:"pc",6:"isr",7:"osr"}[n>>5&7],s=0===t?"":1===t?"~":2===t?"::":"";return e===r&&0===t?"nop":"mov ".concat(r,", ").concat(s).concat(e)}case 6:{if(128&n)return".data ".concat(e.toString(16));const t=32&n?" wait":"",r=16&n?" rel":"",s=7&n;return"irq".concat(64&n?" clear":"").concat(t," ").concat(s).concat(r)}case 7:{const e=31&n;return"set ".concat({0:"pins",1:"x",2:"y",4:"pindirs"}[n>>5],", ").concat(e)}}return".data ".concat(e.toString(16))}function a(e){let{sidesetCount:n,sideEn:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(0);const a=[],i=[];for(let r=0;r<e.length;r++){const o=e[r],l=o>>8&31,c=l&(1<<5-n)-1;let d=s(o);if(n&&(!t||16&l)){let e=l>>5-n;t&&(e&=(1<<n-1)-1),d+=" .side(".concat(e,")")}c&&(d+=" [".concat(c,"]")),a[r]={address:r,text:d,label:!1},o>>13||i.push(31&o)}for(const e of i)a[e]&&(a[e].label=!0);return a}t.d(n,{W:()=>r,n:()=>a})},4364:(e,n,t)=>{"use strict";t.d(n,{c:()=>a,i:()=>i});var r=t(50102);const s="wokwidbg;v1;";function a(e){return e.length>=512&&(0,r.Lf)(new Uint8Array(e.buffer.slice(0,512)))}function i(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=t+e.length;let o=!1;for(let l=0;l<n.length;l+=512){const c=(0,r.Wq)(n.subarray(l,l+512)),{flashAddress:d,payload:u,flags:h}=c;if(d>=t&&d<i&&(e.set(u,d-t),o=!0),h&r.FV.notMainFlash){const e=String.fromCharCode.apply(null,Array.from(u));e.startsWith(s)&&a.push(e.substring(s.length))}}return o}},62887:(e,n,t)=>{"use strict";function r(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return function(e,n,t){for(;e.length<n;)e=t+e;return e}(e.toString(),n,t)}t.d(n,{dP:()=>r})},81924:e=>{e.exports={debugBar:"debugger-toolbar_debugBar__unQYJ",button:"debugger-toolbar_button__5kN9D",disabled:"debugger-toolbar_disabled__sMvP0",stopButton:"debugger-toolbar_stopButton__E6szZ"}},62014:e=>{e.exports={toolbar:"header-small_toolbar__yvrzx",logo:"header-small_logo__fLyJP",menu:"header-small_menu__hiyiT",spacer:"header-small_spacer___h_xx"}},64472:e=>{e.exports={debugger:"pio-debugger_debugger__2dWGi",current:"pio-debugger_current__Eqs2r",listing:"pio-debugger_listing__H8pXq",lineNumber:"pio-debugger_lineNumber__5b5Ch",breakpoint:"pio-debugger_breakpoint__IFSxP",registers:"pio-debugger_registers__AGbJB",fifo:"pio-debugger_fifo__Zla_w"}},94938:e=>{e.exports={modalContent:"share-modal_modalContent__a0qu0",shareLinkContainer:"share-modal_shareLinkContainer___kHxS"}},64394:e=>{e.exports={topButtons:"project-page_topButtons__E_rbw",main:"project-page_main__KMKhI",button:"project-page_button__5z1or",buttonIcon:"project-page_buttonIcon__tgieg"}},18148:e=>{e.exports={altContent:"user-menu_altContent__kVmnu",alt1:"user-menu_alt1__5Xyya",alt2:"user-menu_alt2___1kYx","show-hide":"user-menu_show-hide__C3b0m"}},9805:e=>{e.exports={splitPane:"workbench-desktop_splitPane__nOV1_",container:"workbench-desktop_container__LDB8z",editor:"workbench-desktop_editor__AmDGz",preview:"workbench-desktop_preview__AdZiG",diagramOnly:"workbench-desktop_diagramOnly__6EwWF"}},98975:e=>{e.exports={container:"workbench-mobile_container__gLF2d",tab:"workbench-mobile_tab__VY3Ub",editor:"workbench-mobile_editor__nCRvf",diagram:"workbench-mobile_diagram__4gJe2"}}}]);